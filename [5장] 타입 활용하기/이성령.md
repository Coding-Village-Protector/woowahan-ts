# 5ì¥. íƒ€ì… í™œìš©í•˜ê¸°

> ìš°ì•„í•œí˜•ì œë“¤ì˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹¤ì „ í™œìš© ì˜ˆì œ ì•Œì•„ë³´ê¸° <br />
> React, react-query, styled-componentsì™€ í•¨ê»˜ í™œìš©í•˜ëŠ” ì˜ˆì œ ì•Œì•„ë³´ê¸°

<details>
  <summary>ëª©ì°¨</summary>
  <ul markdown="1">
    <li><a href="#51-ì¡°ê±´ë¶€-íƒ€ì…">5.1 ì¡°ê±´ë¶€ íƒ€ì…</a></li>
    <li><a href="#52-í…œí”Œë¦¿-ë¦¬í„°ëŸ´-íƒ€ì…-í™œìš©í•˜ê¸°">5.2 í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì… - í™œìš©í•˜ê¸°</a></li>
    <li><a href="#53-ì»¤ìŠ¤í…€-ìœ í‹¸ë¦¬í‹°-íƒ€ì…-í™œìš©í•˜ê¸°">5.3 ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° - íƒ€ì… í™œìš©í•˜ê¸°</a></li>
    <li><a href="#54-ë¶ˆë³€-ê°ì²´-íƒ€ì…ìœ¼ë¡œ-í™œìš©í•˜ê¸°">5.4 ë¶ˆë³€ ê°ì²´ íƒ€ì…ìœ¼ë¡œ í™œìš©í•˜ê¸°</a></li>
    <li><a href="#55-record-ì›ì‹œ-íƒ€ì…-í‚¤-ê°œì„ í•˜ê¸°">5.5 record ì›ì‹œ íƒ€ì… í‚¤ ê°œì„ í•˜ê¸°</a></li>
  </ul>
</details>
<br />

## 5.1 ì¡°ê±´ë¶€ íƒ€ì…

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì¡°ê±´ë¶€ íƒ€ì…ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì‚¼í•­ ì—°ì‚°ìì™€ ë™ì¼í•œ í˜•íƒœë¥¼ ê°€ì§„ë‹¤.

```tsx
Condition ? A : B;
// Conditionì´ trueì¼ ë•Œ A íƒ€ì…
// Conditionì´ falseì¼ ë•Œ B íƒ€ì…
```

ì¡°ê±´ë¶€ íƒ€ì…ì„ í™œìš©í•˜ë©´ ì–»ì„ ìˆ˜ ìˆëŠ” **ì¥ì **

- **ì¤‘ë³µë˜ëŠ” íƒ€ì… ì½”ë“œë¥¼ ì œê±°** ê°€ëŠ¥í•˜ë‹¤
- ìƒí™©ì— ë”°ë¼ ì ì ˆí•œ íƒ€ì…ì„ ì–»ì„ ìˆ˜ ìˆê¸°ì— **ë”ìš± ì •í™•í•œ íƒ€ì… ì¶”ë¡ **ì´ ê°€ëŠ¥í•˜ë‹¤

ì•„ë˜ëŠ” ì–´ë–¤ ìƒí™©ì—ì„œ ì¡°ê±´ë¶€ íƒ€ì…ì´ í•„ìš”í•œì§€, ì¡°ê±´ë¶€ íƒ€ì…ì„ ì ìš©í•¨ìœ¼ë¡œì¨ ì–´ë–¤ ì¥ì ì„ ì–»ì„ ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³¸ë‹¤.

<br />

### (1) extendsì™€ ì œë„¤ë¦­ì„ í™œìš©í•œ ì¡°ê±´ë¶€ íƒ€ì…

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ í™œìš©ë˜ëŠ” **`extends`**

- [íƒ€ì…ì„ í™•ì¥í•  ë•Œ](https://github.com/Coding-Village-Protector/woowahan-ts/blob/main/%5B4%EC%9E%A5%5D%20%ED%83%80%EC%9E%85%20%ED%99%95%EC%9E%A5%ED%95%98%EA%B8%B0%C2%B7%EC%A2%81%ED%9E%88%EA%B8%B0/%EA%B0%95%EC%A7%80%EC%9C%A4.md#41-%ED%83%80%EC%9E%85-%ED%99%95%EC%9E%A5%ED%95%98%EA%B8%B0)
- **íƒ€ì…ì„ ì¡°ê±´ë¶€ë¡œ ì„¤ì •í•  ë•Œ** ğŸ‘ˆ ì§€ê¸ˆ
- [ì œë„¤ë¦­ íƒ€ì…ì—ì„œ í•œì •ì ì—­í• ë¡œ ì‚¬ìš©í•  ë•Œ](https://github.com/Coding-Village-Protector/woowahan-ts/blob/main/%5B3%EC%9E%A5%5D%20%EA%B3%A0%EA%B8%89%20%ED%83%80%EC%9E%85/%EC%9D%B4%EC%98%88%EC%86%94.md#%EC%A0%9C%ED%95%9C%EB%90%9C-%EC%A0%9C%EB%84%A4%EB%A6%AD)

```tsx
T extends U ? X : Y
// íƒ€ì… Të¥¼ Uì— í• ë‹¹í•  ìˆ˜ ìˆìœ¼ë©´ X íƒ€ì…
// íƒ€ì… Të¥¼ Uì— í• ë‹¹í•  ìˆ˜ ì—†ìœ¼ë©´ Y íƒ€ì…
```

```tsx
interface Bank {
  financialCode: string;
  fullName: string; // Cardì™€ì˜ ì°¨ì´
}
interface Card {
  financialCode: string;
  appCardType?: string; // Bankì™€ì˜ ì°¨ì´
}
type PayMethod<T> = T extends "card" ? Card : Bank; // ì œë„¤ë¦­ íƒ€ì…ìœ¼ë¡œ extendsë¥¼ ì‚¬ìš©í•œ ì¡°ê±´ë¶€ íƒ€ì…
type CardPayMethodType = PayMethod<"card">; // ì œë„¤ë¦­ ë§¤ê°œë³€ìˆ˜ = "card" : Card íƒ€ì…
type BankPayMethodType = PayMethod<"bank">; // ì œë„¤ë¦­ ë§¤ê°œë³€ìˆ˜ != "card" : Bank íƒ€ì…
```

<br />

### (2) ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œì˜ ë¬¸ì œì 

> ğŸ“£ (2)(3)ì±•í„°ì˜ ê²½ìš° ì±…ì˜ ì„¤ëª…ë§Œìœ¼ë¡œ ì¶©ë¶„ì¹˜ ì•Šì•„ [ChatGPT](https://chat.openai.com/share/dc353d0e-7085-4a81-a1ae-677004e5dadc)ì˜ ë„ì›€ì„ ë°›ì•„ ìƒˆë¡œ ì´í•´í•œ ë‚´ìš©ì„ í† ëŒ€ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.<br />ì±…ê³¼ ì˜ˆì‹œ ì½”ë“œëŠ” ë™ì¼í•˜ì§€ë§Œ ê³¼ì •ì— ëŒ€í•œ ì„¤ëª…ì€ ë‹¤ë¦„ì„ ëª…ì‹œí•©ë‹ˆë‹¤.

React-Query + TypeScript í”„ë¡œì íŠ¸ì˜ ì¼ë¶€ì¸ ì•„ë˜ ì½”ë“œë¥¼ ë³´ë©´ì„œ ë¬¸ì œë¥¼ íŒŒì•…í•´ë³´ì.

ê³„ì¢Œ(bank), ì¹´ë“œ(card), ì•±ì¹´ë“œ(appcard) 3ê°€ì§€ ê²°ì œ ìˆ˜ë‹¨ì´ ìˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” ì£¼ì–´ì§„ ê²°ì œ ìˆ˜ë‹¨ íƒ€ì…(`type`)ì„ ì„œë²„ ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” ê³µí†µ í•¨ìˆ˜(`useGetRegisteredList`)ì— ì „ë‹¬. ê° APIë¥¼ í†µí•´ ê²°ì œ ìˆ˜ë‹¨ ì •ë³´ë¥¼ ë°°ì—´ë¡œ ë°›ì•„ì™€ ìµœì¢…ì ìœ¼ë¡œ í•„í„°ë§ëœ ë°°ì—´(`result`)ì„ ë°˜í™˜í•˜ëŠ” ì½”ë“œë‹¤.

```tsx
type PayMethodType = PayMethodInfo<Card> | PayMethodInfo<Bank>;

export const useGetRegisteredList = (
  type: "card" | "appcard" | "bank"
): UseQueryResult<PayMethodType[]> => {
  const url = `baeminpay/codes/${type === "appcard" ? "card" : type}`;
  const fetcher = fetcherFactory<PayMethodType[]>({
    onSuccess: (res) => {
      const usablePocketList =
        res?.filter(
          (pocket: PocketInfo<Card> | PocketInfo<Bank>) =>
            pocket?.useType === "USE"
        ) ?? [];
      return usablePocketList;
    },
  });
  const result = useCommonQuery<PayMethodType[]>(url, undefined, fetcher);

  return result;
};
```

ìœ„ ì½”ë“œë¥¼ ë§Œë“  ê°œë°œìëŠ” `useGetRegisteredList`ê°€ ì¸ìì˜ íƒ€ì…ìœ¼ë¡œ "card", "appcard", "bank" ì¤‘ í•˜ë‚˜ë¥¼ ë°›ì•„ í•´ë‹¹ íƒ€ì…ê³¼ ì•Œë§ì€ íƒ€ì…ìœ¼ë¡œ ë°˜í™˜ê¹Œì§€ í•´ë‚´ê¸°ë¥¼ ì›í–ˆë‹¤.

- "card", "appcard" => `Card`
- "bank" => `Bank`

ë•Œë¬¸ì— íƒ€ì… `PayMethodType`ì„ `Card` ë˜ëŠ” `Bank` íƒ€ì…ì˜ `PatMethodInfo` ì¤‘ í•˜ë‚˜ë¡œ ê³ ì •í•˜ê³  ë°˜í™˜ê°’ `result`ì— `PayMethodType[]` íƒ€ì…ì„ ëª…ì‹œí•´ì£¼ì—ˆë‹¤. í•˜ì§€ë§Œ `Card`ì™€ `Bank` ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•˜ëŠ” ë¡œì§ì´ ì—†ë‹¤. ì´ê²ƒì´ ë¬¸ì œê°€ ëœë‹¤.

ì‚¬ìš©ìê°€ ì¸ìë¡œ "card"ë¥¼ ì „ë‹¬í–ˆì„ ë•Œ í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” íƒ€ì…ì´ `PayMethodInfo<Card>[]`ì˜€ìœ¼ë©´ ì¢‹ê² ì§€ë§Œ, íƒ€ì… ì„¤ì •ì´ ìœ ë‹ˆì˜¨(`|`)ìœ¼ë¡œë§Œ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— êµ¬ì²´ì ìœ¼ë¡œ ì¶”ë¡ í•  ìˆ˜ ì—†ë‹¤.

ì¦‰, `useGetRegisteredList`ëŠ” ì¸ìë¡œ ë„£ëŠ” íƒ€ì…ì— ì•Œë§ì€ íƒ€ì…ì„ ë°˜í™˜í•˜ì§€ ëª»í•˜ëŠ” í•¨ìˆ˜ë‹¤. ìœ ë‹ˆì˜¨ ì™¸ ë‹¤ë¥¸ ì¡°ì¹˜ê°€ í•„ìš”í•˜ë‹¤.

<br />

### (3) extends ì¡°ê±´ë¶€ íƒ€ì…ì„ í™œìš©í•˜ì—¬ ê°œì„ í•˜ê¸°

extends **ì¡°ê±´ë¶€ íƒ€ì…**ì„ í™œìš©í•˜ì—¬ í•˜ë‚˜ì˜ API í•¨ìˆ˜ì—ì„œ íƒ€ì…ì— ë”°ë¼ ì •í™•í•œ ë°˜í™˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë˜í•œ extendsë¥¼ **ì œë„¤ë¦­ì˜ í™•ì¥ì**ë¡œ í™œìš©í•´ì„œ "card", "appcard", "bank" ì™¸ ë‹¤ë¥¸ ê°’ì´ ì¸ìë¡œ ë“¤ì–´ì˜¤ëŠ” ê²½ìš°ë„ ë°©ì–´í•œë‹¤.

```tsx
// before
type PayMethodType = PayMethodInfo<Card> | PayMethodInfo<Bank>;

// after
type PayMethodType<T extends "card" | "appcard" | "bank"> = T extends
  | "card"
  | "appcard"
  ? Card
  : Bank;
// PayMethodTypeì˜ ì œë„¤ë¦­ìœ¼ë¡œ ë°›ì€ ê°’ì´ "card" ë˜ëŠ” "appcard"ë©´ PayMethodInfo<Card> íƒ€ì…ì„ ë°˜í™˜
// PayMethodTypeì˜ ì œë„¤ë¦­ìœ¼ë¡œ ë°›ì€ ê°’ì´ ì´ì™¸ì˜ ê°’ì´ë©´ PayMethodInfo<Bank> íƒ€ì…ì„ ë°˜í™˜

// +) "card" ì• | ëŠ” ì¤„ë°”ê¿ˆ êµ¬ë¶„ìë¡œ ì´í•´í•˜ë©´ í¸í•¨. í•œì¤„ë¡œ ëª…í™•í•˜ê²Œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ìŒ
// T extends ("card" | "appcard") ? Card : Bank;
```

ìƒˆë¡­ê²Œ ì •ì˜í•œ `PayMethodType`ì— ì œë„¤ë¦­ ê°’ì„ ë„£ì–´ì£¼ê¸° ìœ„í•´ `useGetRegisteredList` í•¨ìˆ˜ ì¸ìì˜ íƒ€ì…ì„ ë„£ì–´ì¤€ë‹¤.

```tsx
// before
export const useGetRegisteredList = (
  type: "card" | "appcard" | "bank"
): UseQueryResult<PayMethodType[]> => {
  /* ... */
  const result = useCommonQuery<PayMethodType[]>(url, undefined, fetcher);
  return result;
};

// after
export const useGetRegisteredList = <T extends "card" | "appcard" | "bank">(
  type: T
): UseQueryResult<PayMethodType<T>[]> => {
  /* ... */
  const result = useCommonQuery<PayMethodType<T>[]>(url, undefined, fetcher);
  return result;
};
```

ì´ë ‡ê²Œ ì¡°ê±´ë¶€ íƒ€ì…ì„ í™œìš©í•¨ìœ¼ë¡œì¨

- ì¸ìë¡œ "card" ë˜ëŠ” "appcard"ë¥¼ ë°›ìœ¼ë©´ `PayMethodInfo<Card>`ë¥¼ ë°˜í™˜í•˜ê³ 
- ì¸ìë¡œ "bank"ë¥¼ ë°›ìœ¼ë©´ `PayMethodInfo<Bank>`ë¥¼ ë°˜í™˜í•œë‹¤.

ì´ì— ë”°ë¼ ë¶ˆí•„ìš”í•œ íƒ€ì… ê°€ë“œì™€ ë¶ˆí•„ìš”í•œ íƒ€ì… ë‹¨ì–¸ì„ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

<br />

**ğŸ“£ extends í™œìš© ì˜ˆì‹œ ì¬ì •ë¦¬**

- **íƒ€ì… í™•ì¥**
- ì œë„¤ë¦­ê³¼ extendsë¥¼ í•¨ê»˜ ì‚¬ìš©í•´ **ì œë„¤ë¦­ìœ¼ë¡œ ë°›ëŠ” íƒ€ì…ì„ ì œí•œí•˜ëŠ” í•œì •ì** ì—­í• 
  - ê°œë°œìê°€ ì˜ëª»ëœ ê°’ì„ ë„˜ê¸°ëŠ” íœ´ë¨¼ì—ëŸ¬ë¥¼ ë°©ì§€
- extendsë¥¼ í™œìš©í•œ **ì¡°ê±´ë¶€ íƒ€ì… ì„¤ì •**
  - ë°˜í™˜ ê°’ì„ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ê°’ìœ¼ë¡œ êµ¬ì²´í™”
  - ë¶ˆí•„ìš”í•œ íƒ€ì… ê°€ë“œ, íƒ€ì… ë‹¨ì–¸ ë°©ì§€

<br />

### (4) inferë¥¼ í™œìš©í•´ì„œ íƒ€ì… ì¶”ë¡ í•˜ê¸°

extendsë¥¼ ì‚¬ìš©í•  ë•Œ **`infer`** í‚¤ì›Œë“œ ì‚¬ìš©í•œë‹¤. extendsë¡œ ì¡°ê±´ì„ ì„œìˆ í•˜ê³  inferë¡œ íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.

```tsx
type UnpackPromise<T> = T extends Promise<infer K>[] ? K : any;
// Promise<infer K> : Promiseì˜ ë°˜í™˜ ê°’ì„ ì¶”ë¡ í•´ í•´ë‹¹ ê°’ì˜ íƒ€ì…ì„ Kë¼ê³  ì§€ì •

const promises = [Promise.resolve("Mark"), Promise.resolve(38)];
type Expected = UnpackPromise<typeof promises>; // string | number
```

<!-- ë¼ì´ë” ì–´ë“œë¯¼ ì˜ˆì œ ê°€ëŠ¥í•˜ë©´ ì¶”ê°€ -->

<br />

## 5.2 í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì… í™œìš©í•˜ê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ë³€ìˆ˜ íƒ€ì…ì„ íŠ¹ì • ë¬¸ìì—´ë¡œ ì§€ì •í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ ë°©ì‹ì€ íœ´ë¨¼ ì—ëŸ¬ ë°©ì§€ ë° ìë™ ì™„ì„± ê¸°ëŠ¥ì„ í†µí•œ ê°œë°œ ìƒì‚°ì„± í–¥ìƒ ë“±ì˜ ì¥ì ì„ ê°€ì§„ë‹¤.

```tsx
type HeaderTag = "h1" | "h2" | "h3" | "h4" | "h5";
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ 4.1ë¶€í„° ì´ë¥¼ í™•ì¥í•˜ëŠ” ë°©ë²•ì¸ **í…œí”Œë¦¿ ë¦¬í‹°ëŸ´ íƒ€ì…(Template Literal Type)** ì„ ì§€ì›í•œë‹¤.

```tsx
type HeadingNumber = 1 | 2 | 3 | 4 | 5;
type HeaderTag = `h${HeadingNumber}`;
// "h1" | "h2" | "h3" | "h4" | "h5"
```

```tsx
type Vertical = "top" | "bottom";
type Horizon = "left" | "right";

type Direction = Vertical | `${Vertical}${Capitalize<Horizon>}`;
// "top" | "topLeft" | "topRight" | "bottom" | "bottomLeft" | "bottomRight"
```

í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì…ì˜ **ì¥ì **

- ë”ìš± ì½ê¸° ì‰¬ìš´ ì½”ë“œ ì‘ì„± ê°€ëŠ¥í•˜ë‹¤.
- ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ê³  ìˆ˜ì •í•˜ëŠ” ë° ìš©ì´í•œ íƒ€ì… ì„ ì–¸ ê°€ëŠ¥í•˜ë‹¤.

í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì… ì‚¬ìš© ì‹œ **ì£¼ì˜í•  ì **

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬ëŠ” ìœ ë‹ˆì˜¨ì„ ì¶”ë¡ í•˜ëŠ” ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ë©´ ë¹„íš¨ìœ¨ì ì´ë¼ëŠ” ì´ìœ ë¡œ íƒ€ì… ì¶”ë¡ ì„ í•˜ì§€ ì•Šê³  ì—ëŸ¬ë¥¼ ë‚´ë±‰ëŠ” ê²½ìš°ê°€ ìˆë‹¤.
- ë•Œë¬¸ì— **ì¡°í•© ê²½ìš°ì˜ ìˆ˜ê°€ ë„ˆë¬´ ë§ì§€ ì•Šê²Œ ì ì ˆíˆ ë‚˜ëˆ„ì–´ì„œ íƒ€ì… ì •ì˜**í•˜ëŠ” ë°©ì‹ì„ ê¶Œì¥í•œë‹¤.

<br />

## 5.3 ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì… í™œìš©í•˜ê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ìœ í‹¸ë¦¬í‹° íƒ€ì…ë§Œìœ¼ë¡œ í‘œí˜„í•˜ê¸°ì—ëŠ” í•œê³„ê°€ ìˆëŠ” ê²½ìš° **ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì…**ì„ ì œì‘í•´ì„œ ì‚¬ìš©í•œë‹¤.

<br />

### (1) ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ í™œìš©í•´ styled-componentsì˜ ì¤‘ë³µ íƒ€ì… ì„ ì–¸ í”¼í•˜ê¸°

ì»´í¬ë„ŒíŠ¸ì˜ background-color, size ê°’ ë“±ì„ propsë¡œ ë°›ì•„ì™€ì„œ ìƒí™©ì— ë”°ë¼ ìŠ¤íƒ€ì¼ì„ êµ¬í˜„í•˜ëŠ” ê²½ìš°ì™€ ê°™ì´, ìŠ¤íƒ€ì¼ ê´€ë ¨ propsë¥¼ styled-componentsì— ì „ë‹¬í•˜ë ¤ë©´ íƒ€ì…ì„ ì •í™•í•˜ê²Œ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤.

ì´ ê²½ìš° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” **`Pick`, `Omit`** ê³¼ ê°™ì€ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì„ í™œìš©í•œë‹¤.

```tsx
// HrComponent.tsx
export type Props = {
  height?: string;
  color?: keyof typeof colors;
  isFull?: boolean;
  className?: string;
};

export const Hr: VFC<Props> = ({ height, color, isFull, className }) => {
  /* ... */
  return (
    <HrComponent
      height={height}
      color={color}
      isFull={isFull}
      className={className}
    />
  );
};
```

ìœ„ ì˜ˆì œì—ì„œ `HrComponent`ëŠ” styled-componentì¸ë° propsë¡œ `height`, `color`, `isFull`ì„ ìŠ¤íƒ€ì¼ë§ì— í™œìš©í•˜ë ¤ í•œë‹¤.

`Hr`ì— ì‚¬ìš©ëœ íƒ€ì… `Props` ì¤‘ì—ì„œë„ ì¼ë¶€ë§Œì„ í•„ìš”ë¡œ í•˜ëŠ” ìƒí™©ì´ë‹ˆ `Pick`ì„ ì´ìš©í•´ í•„ìš”í•œ íƒ€ì…ë§Œ ê³¨ë¼ `StyledProps`ë¡œ ìƒˆë¡œ ì •ì˜í•´ ì‚¬ìš©í•˜ë©´ ì•„ë˜ì˜ í˜•íƒœê°€ ëœë‹¤.

```tsx
// style.ts
import { Props } from '../HrComponent.tsx';

// íƒ€ì… Propsì—ì„œ ìŠ¤íƒ€ì¼ë§ì— í•„ìš”í•œ ì†ì„± íƒ€ì…ë§Œ ê³¨ë¼ë‚´ ì‚¬ìš© (cf. "className")
type StyledProps = Pick<Props, "height" | "color" | "isFull">;

const HrComponent = styled.hr<StyledProps>`
  height: ${({ height }) = > height || "10px"};
  margin: 0;
  background-color: ${({ color }) = > colors[color || "gray7"]};
  border: none;
  ${({ isFull }) => isFull && css`
    margin: 0 -15px;
  `}
`;
```

**ì¤‘ë³µëœ íƒ€ì… ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ë„ ì•Šì•„ë„ ë˜ê³  ìœ ì§€ë³´ìˆ˜ë¥¼ í¸í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.**

<br />

### (2) PickOne ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ì„œë¡œ ë‹¤ë¥¸ 2ê°œ ì´ìƒì˜ ê°ì²´ë¥¼ ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ ë°›ì„ ë•Œ íƒ€ì… ê²€ì‚¬ê°€ ì œëŒ€ë¡œ ë˜ì§€ ì•ŠëŠ” ì´ìŠˆê°€ ìˆë‹¤.

```tsx
type Card = {
  card: string;
};
type Account = {
  account: string;
};
function withdraw(type: Card | Account) {
  /* ... */
}
withdraw({ card: "hyundai", account: "hana" });
// Cardì™€ Account ì†ì„±ì„ í•œ ë²ˆì— ë°›ì•„ë„ ì—ëŸ¬ ì—†ìŒ
```

ìœ„ ì˜ˆì œì—ì„œ `Card`, `Account`ëŠ” [ì§‘í•© ê´€ì ì—ì„œ í•©ì§‘í•©ì´ê¸° ë•Œë¬¸ì—](https://github.com/Coding-Village-Protector/woowahan-ts/blob/main/%5B4%EC%9E%A5%5D%20%ED%83%80%EC%9E%85%20%ED%99%95%EC%9E%A5%ED%95%98%EA%B8%B0%C2%B7%EC%A2%81%ED%9E%88%EA%B8%B0/%EA%B0%95%EC%A7%80%EC%9C%A4.md#412-%EC%9C%A0%EB%8B%88%EC%98%A8-%ED%83%80%EC%9E%85) ` withdraw`` í•¨ìˆ˜ì˜ ì¸ìëŠ”  `{ card: "hyundai" }`ì™€ `{ account: "hana" }`ë¥¼ ëª¨ë‘ ë°›ì•„ë„ íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

<br />

**í•´ê²°ë°©ë²• 1ë²ˆ) [ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨(Discriminated Unions)](https://github.com/Coding-Village-Protector/woowahan-ts/blob/main/%5B4%EC%9E%A5%5D%20%ED%83%80%EC%9E%85%20%ED%99%95%EC%9E%A5%ED%95%98%EA%B8%B0%C2%B7%EC%A2%81%ED%9E%88%EA%B8%B0/%EA%B0%95%EC%A7%80%EC%9C%A4.md#432-%EC%8B%9D%EB%B3%84%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%9C%A0%EB%8B%88%EC%98%A8) ê¸°ë²• í™œìš©**

ê° íƒ€ì…ì„ êµ¬ë¶„í•  íŒë³„ìë¡œ `type`ì´ë¼ëŠ” ì†ì„±ì„ ì¶”ê°€í•´ `withdraw` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ ì •í™•í•œ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

```tsx
type Card = {
  type: "card"; // íŒë³„ì ì¶”ê°€
  card: string;
};
type Account = {
  type: "account"; // íŒë³„ì ì¶”ê°€
  account: string;
};
function withdraw(type: Card | Account) {
  /* ... */
}
withdraw({ card: "hyundai", account: "hana" }); // ğŸš¨ ERORR : Argument of type '{ card: string; account: string; }' is not assignable to parameter of type 'Card | Account'.
withdraw({ type: "card", card: "hyundai" });
withdraw({ type: "account", account: "hana" });
```

í•˜ì§€ë§Œ ë§Œì¼ ì´ë¯¸ ë§ì€ê±¸ êµ¬í˜„í•œ ìƒí™©ì´ë¼ë©´ ì¼ì¼íˆ íŒë³„ìë¥¼ ì¶”ê°€í•´ì•¼í•˜ ì ì´ ë¶ˆí¸í•¨ì„ ì¤€ë‹¤.

<br />

**í•´ê²°ë°©ë²• 2ë²ˆ) ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì… `PickOne` êµ¬í˜„í•˜ê¸°**

1ë²ˆì˜ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ë‹¤ë¥¸ ë°©ë²•ì€ **ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì„ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒ**ì´ë‹¤.

ìœ„ ìœ„ì œì—ì„œëŠ” `account`ì¼ ë•Œ `card`ë¥¼ ë°›ì§€ ëª»í•˜ê³ , `card`ì¼ ë•Œ `acount`ë¥¼ ë°›ì§€ ëª»í•˜ê²Œ í•˜ëŠ” ê²ƒ, `account` ë˜ëŠ” `card` ì†ì„± í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ëŠ” ê°ì²´ë¥¼ ë°›ëŠ” íƒ€ì…ì„ ë§Œë“œëŠ” ê²ƒì´ ëª©í‘œë‹¤. ì¦‰, **í•˜ë‚˜ì˜ ì†ì„±ì´ ë“¤ì–´ì™”ì„ ë•Œ ë‹¤ë¥¸ íƒ€ì…ì„ ì˜µì…”ë„í•œ undefined ê°’ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ë°©ë²•**ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° ì‚¬ìš©ìê°€ ì˜ë„ì ìœ¼ë¡œ undefined ê°’ì„ ë„£ì§€ ì•ŠëŠ” ì´ìƒ, ì›ì¹˜ ì•Šì€ ì†ì„±ì— ê°’ì„ ë„£ì—ˆì„ ë•Œ íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

í•´ë‹¹ ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì„ ë§Œë“¤ê¸° ìœ„í•´ ì‘ì€ ë‹¨ìœ„ íƒ€ì…ì¸ `One`ê³¼ `ExcludeOne` íƒ€ì…ì„ ê°ê° êµ¬í˜„í•œ ë’¤, ë‘ íƒ€ì…ì„ í™œìš©í•´ í•˜ë‚˜ì˜ íƒ€ì… `PickOne`ì„ í‘œí˜„í•œë‹¤.

```tsx
// One<T> : ì œë„¤ë¦­ íƒ€ì… Tì˜ 1ê°œ í‚¤ëŠ” ê°’ì„ ê°€ì§
type One<T> = { [P in keyof T]: Record<P, T[P]> }[keyof T];

// ExcludeOne<T> : ì œë„¤ë¦­ íƒ€ì… Tì˜ ë‚˜ë¨¸ì§€ í‚¤ëŠ” ì˜µì…”ë„í•œ undefined ê°’ì„ ê°€ì§
type ExcludeOne<T> = {
  [P in keyof T]: Partial<Record<Exclude<keyof T, P>, undefined>>;
}[keyof T];

// PickOne<T> = One<T> + ExcludeOne<T>
type PickOne<T> = One<T> & ExcludeOne<T>;
```

ì‘ì€ ë‹¨ìœ„ë¶€í„° ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•´ ë§Œë“  íƒ€ì… `PickOne`ì„ ì´ìš©í•´ ì •í™•í•œ íƒ€ì…ì„ ì¶”ë¡ í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

```tsx
type Card = {
  card: string;
};
type Account = {
  account: string;
};

// ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° íƒ€ì… PickOne
type PickOne<T> = {
  [P in keyof T]: Record<P, T[P]> &
    Partial<Record<Exclude<keyof T, P>, undefined>>;
}[keyof T];

// CardOrAccountê°€ Cardì˜ ì†ì„±ì´ë‚˜ Accountì˜ ì†ì„± ì¤‘ í•˜ë‚˜ë§Œ ê°€ì§ˆ ìˆ˜ ìˆê²Œ ì •ì˜
type CardOrAccount = PickOne<Card & Account>;

function withdraw(type: CardOrAccount) {
  /* ... */
}

withdraw({ card: "hyundai", account: "hana" }); // ğŸš¨ ERROR
withdraw({ card: "hyndai" }); // âœ…
withdraw({ card: "hyundai", account: undefined }); // âœ…
withdraw({ account: "hana" }); // âœ…
withdraw({ card: undefined, account: "hana" }); // âœ…
withdraw({ card: undefined, account: undefined }); // ğŸš¨ ERROR
```

<br />

### (3) NonNullable íƒ€ì… ê²€ì‚¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„í¸í•˜ê²Œ íƒ€ì… ê°€ë“œí•˜ê¸°

**NonNullable íƒ€ì…**

```tsx
type NonNullable<T> = T extends null | undefined ? never : T;
```

- ì œë„¤ë¦­ìœ¼ë¡œ ë°›ëŠ” Tê°€ null ë˜ëŠ” undefinedì¼ ë•Œ never ë˜ëŠ” Të¥¼ ë°˜í™˜í•˜ëŠ” íƒ€ì…
- nullì´ë‚˜ undefinedê°€ ì•„ë‹Œ ê²½ìš°ë¥¼ ì œì™¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©

<br />

**NonNullable í•¨ìˆ˜**

```tsx
function NonNullable<T>(value: T): value is NonNullable<T> {
  return value !== null && value !== undefined;
}
```

- ë§¤ê°œë³€ìˆ˜(`value`)ê°€ null ë˜ëŠ” undefinedì¼ ë•Œ falseë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
- ë°˜í™˜ê°’ì´ trueë¼ë©´ nullê³¼ undefinedê°€ ì•„ë‹Œ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ íƒ€ì… ê°€ë“œëœë‹¤.

<br />

Promise.allì„ ì‚¬ìš©í•  ë•Œ NonNullableë¥¼ ì ìš©í•œ ì˜ˆì‹œë¥¼ í™•ì¸í•´ë³´ì.

```tsx
const shopList = [
  { shopNo: 100, category: "chicken" },
  { shopNo: 101, category: "pizza" },
  { shopNo: 102, category: "noodle" },
];

class AdCampaignAPI {
  static async operating(shopNo: number): Promise<AdCampaign[]> {
    try {
      return await fetch(`/ad/shopNumber=${shopNo}`);
    } catch (error) {
      return null;
    }
  }
}

const shopAdCampaignList = await Promise.all(
  shopList.map((shop) => AdCampaignAPI.operating(shop.shopNo))
);
```

`AdCampaignAPI.operating` í•¨ìˆ˜ëŠ” errorì‹œ nullì„ ë°˜í™˜í•˜ë„ë¡ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— `shopAdCampaignList`ì˜ íƒ€ì…ì€ `Array<AdCampaign[] | null>`ë¡œ ì¶”ë¡ ëœë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ìˆœíšŒí•  ë•Œë§ˆë‹¤ ê³ ì°¨ í•¨ìˆ˜ ë‚´ ì½œë°± í•¨ìˆ˜ì—ì„œ ifë¬¸ì„ ì‚¬ìš©í•œ íƒ€ì… ê°€ë“œë¥¼ ë°˜ë³µí•˜ê²Œ ë˜ëŠ” ë¬¸ì œê°€ ìƒê¸´ë‹¤. ì•„ë˜ì™€ ê°™ì´ ë‹¨ìˆœí•˜ê²Œ í•„í„°ë§ì„ í•´ë„ nullì´ í•„í„°ë§ ë˜ì§€ ì•ŠëŠ”ë‹¤.

```tsx
const shopAds = shopAdCampaignList.filter((shop) => !!shop);
// shopAdsì˜ íƒ€ì… : Array<AdCampaign[] | null>
```

ë‹¤ìŒê³¼ ê°™ì´ NonNullableë¥¼ ì´ìš©í•´ nullì„ í•„í„°ë§í•´ì•¼ë§Œ `Array<AdCampaign[]>`ë¡œ ì¶”ë¡ í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```tsx
// showAdCampaignListê°€ nullì´ ë  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ë°©ì–´í•˜ê¸° ìœ„í•´ NonNullable ì‚¬ìš©
const shopAds = shopAdCampaignList.filter(NonNullable);
// shopAdsëŠ” í•„í„°ë§ì„ í†µí•´ nullì´ë‚˜ undefinedê°€ ì•„ë‹Œ ê°’ì„ ê°€ì§„ ë°°ì—´ì´ ë¨
// shopAdsì˜ íƒ€ì… : Array<AdCampaign[]>
```

<br />

## 5.4 ë¶ˆë³€ ê°ì²´ íƒ€ì…ìœ¼ë¡œ í™œìš©í•˜ê¸°

í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ìƒìˆ«ê°’ì„ ê´€ë¦¬í•  ë•Œ í”íˆ ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤. (ex. ìŠ¤íƒ€ì¼ theme ê°ì²´, ì• ë‹ˆë©”ì´ì…˜ ê°ì²´, ìƒìˆ˜ê°’ì„ ë‹´ì€ ê°ì²´ ë“±) ì»´í¬ë„ŒíŠ¸ë‚˜ í•¨ìˆ˜ì—ì„œ ì´ëŸ° ê°ì²´ë¥¼ ì‚¬ìš©í•  ë•Œ ì—´ë¦° íƒ€ì…(`any`)ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

```tsx
const colors = {
  red: "#F45452",
  green: "#0C952A",
  blue: "#1A7CFF",
};

const getColorHex = (key: string) => colors[key]; // ğŸš¨ ERROR : Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ red: string; green: string; blue: string; }'.
// colorsì— ì–´ë–¤ ê°’ì´ ì¶”ê°€ë ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— getColorHexì˜ ë°˜í™˜ê°’ì€ any
```

ìœ„ëŠ” í•¨ìˆ˜ ì¸ìë¡œ í‚¤ë¥¼ ë°›ì•„ valueë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë‹¤. colorsì— ì–´ë–¤ ê°’ì´ ì¶”ê°€ë ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— í‚¤ íƒ€ì…ì„ stringìœ¼ë¡œ ì„¤ì •í•˜ë©´ getColorHex í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì€ anyê°€ ëœë‹¤.

ì—¬ê¸°ì—ì„œ ì•„ë˜ ë°©ë²•ì„ í†µí•´ ê°ì²´ íƒ€ì…ì„ ë” ì •í™•í•˜ê³  ì•ˆì „í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

- `as const` í‚¤ì›Œë“œë¡œ ê°ì²´ë¥¼ ë¶ˆë³€ ê°ì²´ë¡œ ì„ ì–¸
- `keyof` ì—°ì‚°ìë¡œ í•¨ìˆ˜ ì¸ìë¥¼ colors ê°ì²´ì— ì¡´ì¬í•˜ëŠ” í‚¤ê°’ë§Œ ë°›ë„ë¡ ì„¤ì •

```tsx
const colors = {
  red: "#F45452",
  green: "#0C952A",
  blue: "#1A7CFF",
} as const; // colors ê°ì²´ë¥¼ ë¶ˆë³€ ê°ì²´ë¡œ ì„ ì–¸

const getColorHex = (key: keyof typeof colors) => colors[key];
// colorsì— ì¡´ì¬í•˜ëŠ” í‚¤ê°’ë§Œ ë°›ë„ë¡ ì œì–´í•¨ìœ¼ë¡œì¨ getColorHexì˜ ë°˜í™˜ê°’ì€ string

const redHex = getColorHex("red"); // âœ…
const unknownHex = getColorHex("yellow"); // ğŸš¨ ERROR : Argument of type '"yellow"' is not assignable to parameter of type '"red" | "green" | "blue"'.
```

ì´ ë°©ë²•ìœ¼ë¡œ ê°ì²´ íƒ€ì…ì„ ë” ì •í™•í•˜ê³  ì•ˆì „í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

<br />

### (1) Atom ì»´í¬ë„ŒíŠ¸ì—ì„œ theme style ê°ì²´ í™œìš©í•˜ê¸°

Atom ë‹¨ìœ„ì˜ ì‘ì€ ì»´í¬ë„ŒíŠ¸(`Button`, `Header`, `Input` ë“±)ëŠ” ìƒ‰ìƒ ë“±ì˜ ìŠ¤íƒ€ì¼ì´ ìœ ì—°í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ìŠ¤íƒ€ì¼ì„ propsë¡œ ë§ì´ ë°›ëŠ”ë‹¤. ëŒ€ë¶€ë¶„ì˜ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìŠ¤íƒ€ì¼ ê°’ì„ **theme ê°ì²´**ë¥¼ ë‘ê³  ê´€ë¦¬í•œë‹¤.

```tsx
const colors = {
  black: "#000000",
  gray: "#222222",
  white: "#FFFFFF",
  mint: "#2AC1BC",
};

const theme = {
  colors: {
    default: colors.gray,
    ...colors,
  },
  backgroundColor: {
    default: colors.white,
    gray: colors.gray,
    mint: colors.mint,
    black: colors.black,
  },
  fontSize: {
    default: "16px",
    small: "14px",
    large: "18px",
  },
};
```

ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ theme ê°ì²´ì˜ ìŠ¤íƒ€ì¼ í‚¤ ê°’ì„

- ì»´í¬ë„ŒíŠ¸(ex. `Button`)ì— propsë¡œ ì „ë‹¬
- ì»´í¬ë„ŒíŠ¸ê°€ theme ê°ì²´ì—ì„œ ê°’ì„ ê°€ì ¸ì™€ ì‚¬ìš©
  í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì„¤ê³„ë˜ì–´ ìˆë‹¤.

```tsx
interface Props {
  fontSize?: string;
  backgroundColor?: string;
  color?: string;
  onClick: (event: React.MouseEvent<HTMLButtonElement>) => void | Promise<void>;
}

const Button: FC<Props> = ({ fontSize, backgroundColor, color, children }) => {
  return (
    <ButtonWrap
      fontSize={fontSize}
      backgroundColor={backgroundColor}
      color={color}
    >
      {children}
    </ButtonWrap>
  );
};

// ì»´í¬ë„ŒíŠ¸ ButtonWrapì´ propsë¡œ ìŠ¤íƒ€ì¼ í‚¤ ê°’(fontSize, backgroundColor, color)ì„ ì „ë‹¬ë°›ìŒ
const ButtonWrap = styled.button<Omit<Props, "onClick">>`
  color: ${({ color }) => theme.color[color ?? "default"]};
  background-color: ${({ backgroundColor }) =>
    theme.bgColor[backgroundColor ?? "default"]};
  font-size: ${({ fontSize }) => theme.fontSize[fontSize ?? "default"]};
`;
```

í˜„ì¬ ìœ„ ì½”ë“œì˜ `fontSize`, `backgoundColor`, `color` íƒ€ì…ì€ string.

`Button` ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ë„˜ê²¨ì¤„ ë•Œ í‚¤ ê°’ì´ ìë™ ì™„ì„±ë˜ì§€ ì•Šê³  ë•Œë¬¸ì— ì˜ëª»ëœ í‚¤ê°’ì„ ë„£ì–´ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ìˆë‹¤.

ì´ë¥¼ **theme ê°ì²´ë¡œ íƒ€ì…ì„ êµ¬ì²´í™”**í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

- keyof ì—°ì‚°ìë¡œ ê°ì²´ì˜ í‚¤ê°’ì„ íƒ€ì…ìœ¼ë¡œ ì¶”ì¶œ
  ```tsx
  interface ColorType {
    red: string;
    green: string;
    blue: string;
  }
  type ColorKeyType = keyof ColorType; // "red" | "green" | "blue"
  ```
- typeof ì—°ì‚°ìë¡œ ê°’ì„ íƒ€ì…ìœ¼ë¡œ ë‹¤ë£¨ê¸°

  ```tsx
  const colors = {
    red: "#F45452",
    green: "#0C952A",
    blue: "#1A7CFF",
  };

  type ColorsType = typeof colors; // { red: string; green: string; blue: string; }
  ```

<br />

**ì‹¤ì „ ê°œì„ ) theme ê°ì²´ íƒ€ì…ì„ êµ¬ì²´í™”í•´ ì»´í¬ë„ŒíŠ¸ ê°œì„ í•˜ê¸°**

```tsx
// before
interface Props {
  fontSize?: string;
  backgroundColor?: string;
  color?: string;
  onClick: (event: React.MouseEvent<HTMLButtonElement>) => void | Promise<void>;
}

// after
// theme ê°ì²´ íƒ€ì… êµ¬ì²´í™” ì§„í–‰ (typeof + keyof)
type ColorType = typeof keyof theme.colors; // "default" | "black" | "gray" | "white" | "mint"
type BackgroundColorType = typeof keyof theme.backgroundColor; // "default" | "gray" | "mint" | "black"
type FontSizeType = typeof keyof theme.fontSize; // "default" | "small" | "large"

interface Props {
  fontSize?: ColorType; // ğŸ‘ˆ
  backgroundColor?: BackgroundColorType; // ğŸ‘ˆ
  color?: FontSizeType; // ğŸ‘ˆ
  onClick: (event: React.MouseEvent<HTMLButtonElement>) => void | Promise<void>;
}
```

ìœ„ì²˜ëŸ¼ **theme ê°ì²´ íƒ€ì…ì„ êµ¬ì²´í™”**í•˜ê³  stringìœ¼ë¡œ íƒ€ì…ì„ ì„¤ì •í–ˆë˜ `Button` ì»´í¬ë„ŒíŠ¸ë¥¼ ê°œì„ í•˜ë©´ **ì§€ì •ëœ ê°’ë§Œ ë°›ì„ ìˆ˜ ìˆê²Œ ëœë‹¤**. ìë™ì™„ì„±ìœ¼ë¡œ ì§€ì •ëœ ë¬¸ìì—´(ex. "black", "default")ì„ ë°›ì„ ìˆ˜ë„ ìˆê³ , ë‹¤ë¥¸ ê°’ì„ ë„£ì—ˆì„ ë•Œ íƒ€ì… ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.

<br />

## 5.5 Record ì›ì‹œ íƒ€ì… í‚¤ ê°œì„ í•˜ê¸°

ê°ì²´ ì„ ì–¸ ì‹œ í‚¤ê°€ ì–´ë–¤ ê°’ì¸ì§€ ëª…í™•í•˜ì§€ ì•Šìœ¼ë©´ Recordì˜ í‚¤ë¥¼ stringì´ë‚˜ numberê°™ì€ ì›ì‹œ íƒ€ì…ìœ¼ë¡œ ëª…ì‹œí•˜ê³¤ í•˜ëŠ”ë° ì´ëŠ” ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆì–´ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.

Recordë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ì•ˆì— ëŒ€í•´ ì•Œì•„ë³´ì.

<br />

### (1) ë¬´í•œí•œ í‚¤ë¥¼ ì§‘í•©ìœ¼ë¡œ ê°€ì§€ëŠ” Record

```tsx
type Category = string;
interface Food {
  name: string;
  // ...
}
const foodByCategory: Record<Category, Food[]> = {
  í•œì‹: [{ name: "ì œìœ¡ë®ë°¥" }, { name: "ëšë°°ê¸° ë¶ˆê³ ê¸°" }],
  ì¼ì‹: [{ name: "ì´ˆë°¥" }, { name: "í…ë™" }],
};
```

ê°ì²´ `foodByCatgory`ëŠ” string íƒ€ì…ì¸ `Category`ë¥¼ Recordì˜ í‚¤ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¬´í•œí•œ í‚¤ ì§‘í•©ì„ ê°€ì§„ë‹¤. í‚¤ë¡œ "í•œì‹", "ì¼ì‹"ì´ ì•„ë‹Œ ì—†ëŠ” í‚¤ê°’(ex. "ì–‘ì‹")ì„ ì‚¬ìš©í•˜ë”ë¼ë„ ì»´íŒŒì¼ ì˜¤ë¥˜ ì—†ì´ undefinedê°€ ëœë‹¤.

```tsx
foodByCategory["ì–‘ì‹"]; // Food[]ë¡œ ì¶”ë¡ 
console.log(foodByCategory["ì–‘ì‹"]); // ? undefined
foodByCategory["ì–‘ì‹"].map((food) => console.log(food.name)); // ğŸš¨ runTime ERROR : Cannot read properties of undefined (reading â€˜mapâ€™)
```

ìœ„ì™€ ê°™ì´ undefinedë¡œ ì¸í•œ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ì˜µì…”ë„ ì²´ì´ë‹(`?.`)ì„ ì‚¬ìš©í•œë‹¤.

```tsx
foodByCategory["ì–‘ì‹"]?.map((food) => console.log(food.name)); // âœ…
```

í•˜ì§€ë§Œ ì´ ë°©ë²•ì€ undefinedì¼ ìˆ˜ ìˆëŠ” ê°’ì„ ì¸ì§€í•˜ê³  ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ì˜ˆìƒì¹˜ ëª»í•œ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

<br />

### (2) ìœ ë‹› íƒ€ì…ìœ¼ë¡œ ë³€ê²½í•˜ê¸°

```tsx
// before
type Category = string;

// after
type Category = "í•œì‹" | "ì¼ì‹";
```

í‚¤ê°€ ìœ í•œí•œ ì§‘í•©ì´ë¼ë©´ ìœ ë‹› íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê°ì²´ `foodByCategory`ì— ì—†ëŠ” í‚¤ê°’ì„ ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜ë¥¼ í‘œê¸°í•œë‹¤.

```tsx
foodByCategory["ì–‘ì‹"]; // ğŸš¨ ERROR : Property 'ì–‘ì‹' does not exist on type 'Record<Category, Food[]>'.
```

í•˜ì§€ë§Œ í‚¤ê°€ ë¬´í•œí•´ì•¼ í•˜ëŠ” ìƒí™©ì—ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤.

<br />

### (3) Partialì„ í™œìš©í•˜ì—¬ ì •í™•í•œ íƒ€ì… í‘œí˜„í•˜ê¸°

í‚¤ê°€ ë¬´í•œí•œ ìƒí™©ì—ì„œ **Partial**ì„ ì‚¬ìš©í•´ í•´ë‹¹ ê°’ì´ undefinedì¼ ìˆ˜ ìˆëŠ” ìƒíƒœì„ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

ê°ì²´ ê°’ì´ undefinedì¼ ìˆ˜ ìˆëŠ” ê²½ìš°ì— Partialì„ ì‚¬ìš©í•´ì„œ PartialRecord íƒ€ì…ì„ ì„ ì–¸í•œë‹¤.

```tsx
type PartialRecord<K extends string, T> = Partial<Record<K, T>>;
```

ê·¸ë¦¬ê³  ê°ì²´ `foodByCategory`ë¥¼ ì„ ì–¸í•  ë•Œ Record ëŒ€ì‹ ì— PartialRecordë¥¼ í™œìš©í•œë‹¤.

```tsx
// before
const foodByCategory: Record<Category, Food[]> = {
  í•œì‹: [{ name: "ì œìœ¡ë®ë°¥" }, { name: "ëšë°°ê¸° ë¶ˆê³ ê¸°" }],
  ì¼ì‹: [{ name: "ì´ˆë°¥" }, { name: "í…ë™" }],
};

foodByCategory["ì–‘ì‹"]; // Food[]ë¡œ ì¶”ë¡ 

// after
const foodByCategory: PartialRecord<Category, Food[]> = {
  í•œì‹: [{ name: "ì œìœ¡ë®ë°¥" }, { name: "ëšë°°ê¸° ë¶ˆê³ ê¸°" }],
  ì¼ì‹: [{ name: "ì´ˆë°¥" }, { name: "í…ë™" }],
};

foodByCategory["ì–‘ì‹"]; // Food[] ë˜ëŠ” undefined íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ 
```

ê°ì²´ `foodByCatgory`ëŠ” ë¬´í•œí•œ í‚¤ ì§‘í•©ì„ ê°€ì§€ë©´ì„œ ì—†ëŠ” í‚¤ê°’ì„ ì‚¬ìš©í•˜ë”ë¼ë„ ì»´íŒŒì¼ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•œë‹¤.

```tsx
// before (Record)
foodByCategory["ì–‘ì‹"].map((food) => console.log(food.name)); // ğŸš¨ runTime ERROR : Cannot read properties of undefined (reading â€˜mapâ€™)

// after (PartialRecord)
foodByCategory["ì–‘ì‹"].map((food) => console.log(food.name)); // ğŸš¨ ERROR : Object is possibly 'undefined'
```

í•´ë‹¹ ì»´íŒŒì¼ ì˜¤ë¥˜ë¥¼ í™•ì¸í•˜ê³  ì˜µì…”ë„ ì²´ì´ë‹(`?.`)ì„ ì‚¬ìš©í•˜ëŠ” ì‚¬ì „ ì¡°ì¹˜ë¥¼ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

```tsx
foodByCategory["ì–‘ì‹"]?.map((food) => console.log(food.name)); // âœ…
```
